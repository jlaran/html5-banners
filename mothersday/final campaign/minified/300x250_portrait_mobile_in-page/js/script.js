function firstFrame(){motionLibrary.animations("fadeIn","#collapse-banner h1",0),motionLibrary.animations("fadeIn","#collapse-banner h2",.5)}function expanded(){Enabler.requestExpand(),motionLibrary.animations("fadeIn","#expanded-banner",0),motionLibrary.animations("fadeIn","#expanded-banner #info",0),TweenMax.to("#device1",3,{bottom:"45%",ease:Strong.easeOut,delay:.5}),TweenMax.to("#shadow",3,{opacity:1,bottom:"37%",ease:Strong.easeOut,delay:.5}),TweenMax.to("#expanded-banner #info #f1_txt1",2,{opacity:1,delay:.5,onComplete:frame2})}function frame2(){TweenMax.to("#expanded-banner #info #f1_txt1",.5,{opacity:0,delay:1}),TweenMax.to("#device1",2,{bottom:"25%",ease:Strong.easeInOut,delay:2}),TweenMax.to("#shadow",2,{bottom:"16.5%",ease:Strong.easeInOut,delay:2}),TweenMax.to("#expanded-banner #info #f2_txt1",2,{opacity:1,delay:3.5,onComplete:frame3}),1==afterDay&&(document.getElementById("device2").style.background="url('img/device_ft2.jpg')",console.log("entro"))}function frame3(){TweenMax.to("#expanded-banner #info #f2_txt1",.5,{opacity:0,delay:1}),TweenMax.to("#expanded-banner #info #f2_txt2",.5,{opacity:0,delay:1}),TweenLite.set("#persp",{perspective:4500}),TweenMax.to("#device1",1,{left:"52%",rotationY:180,ease:Power2.easeInOut,transformOrigin:"center bottom",delay:1.5}),TweenMax.to("#shadow",.5,{left:"15.75%",scaleX:.15,ease:Power2.easeIn,transformOrigin:"center bottom",delay:1.6}),TweenMax.to("#shadow",.5,{left:"31.5%",scaleX:1,ease:Power2.easeOut,transformOrigin:"center bottom",delay:2}),TweenMax.to("#device1",.01,{opacity:0,delay:2.1}),TweenLite.set("#persp2",{perspective:4500}),TweenMax.to("#device2",1,{left:"50%",rotationY:180,ease:Power2.easeInOut,transformOrigin:"center bottom",delay:1.5}),TweenMax.to("#device2",.1,{opacity:1,delay:2}),TweenMax.to("#device2",1.5,{top:"5%",ease:Expo.easeInOut,delay:2}),TweenMax.to("#shadow",1,{opacity:0,ease:Expo.easeInOut,scaleX:.5,transformOrigin:"center center",delay:2}),TweenMax.to("#logo",1,{opacity:1,delay:3}),TweenMax.to("#expanded-banner #info #f3_txt1",.5,{left:25,opacity:1,delay:3.2}),TweenMax.to("#expanded-banner #info #f3_txt2",.7,{left:25,opacity:1,delay:3.4}),TweenMax.to("#expanded-banner #info #f3_txt3",.7,{left:25,opacity:1,delay:3.6}),TweenMax.to("#expanded-banner #info #f3_txt1",.5,{left:-25,opacity:0,delay:5.5}),TweenMax.to("#expanded-banner #info #f3_txt2",.4,{left:-25,opacity:0,delay:5.7,onComplete:frame4}),TweenMax.to("#expanded-banner #info #f3_txt3",.3,{left:-25,opacity:0,delay:5.9}),TweenMax.to("#device2",1e-11,{left:"56%",rotationY:180,ease:Power2.easeInOut,transformOrigin:"center bottom",delay:6.1}),TweenLite.set("#persp2",{perspective:2250}),TweenMax.to("#persp2",.5,{height:"1240px",delay:6.1}),TweenMax.to("#device2",1,{opacity:1,rotationY:135,scaleX:.95,scaleY:1,ease:Power4.easeOut,transformOrigin:"center bottom",delay:6.1}),TweenMax.to("#bordeDevice",.01,{opacity:0,delay:6}),TweenMax.to("#bordeDevice",1,{top:"6%",left:"62%",rotationY:135,scaleX:.95,scaleY:1,ease:Power4.easeOut,transformOrigin:"center bottom",delay:6.1}),TweenMax.to("#bordeDevice",1,{opacity:1,display:"block",delay:6.62})}function frame4(){TweenMax.to("#FF",0,{opacity:1}),TweenMax.to("#ff_txt1",.5,{left:25,opacity:1,delay:0}),TweenMax.to("#ff_txt2",.5,{left:25,opacity:1,delay:.1}),TweenMax.to("#ff_txt3",.5,{left:25,opacity:1,delay:.2}),TweenMax.to("#ff_txt4",.5,{left:25,opacity:1,delay:.3}),TweenMax.to("#ff-cta",.5,{display:"block",opacity:1,delay:.5}),TweenMax.to("#ff_txt5",.5,{opacity:1,delay:.7}),TweenMax.to("#footer-cta",.5,{display:"block",opacity:1,delay:.9}),document.getElementById("banner").className="finished",1==afterDay&&TweenMax.to("#ff_txt6",.5,{opacity:1,delay:.1})}function GeneralClose(){TweenMax.set("#expanded-banner",{opacity:0,display:"none"}),TweenMax.set("#map",{opacity:0,display:"none"}),motionLibrary.resetWhenCloseOrExit(),mapAdded=!1,mapLoaded=!1,isMapCreated=!1,document.getElementById("map-canvas").innerHTML="",searchInput.value=""}function ResetValuesAndStart(){motionLibrary.resetWhenCloseOrExit(),mapAdded=!1,mapLoaded=!1,isMapCreated=!1,document.getElementById("map-canvas").innerHTML="",searchInput.value="",expanded()}function shopGift(){Enabler.requestCollapse(),Enabler.exit("ClickTag Shop Gift"),TweenMax.set("#expanded-banner",{opacity:0,display:"none"}),motionLibrary.resetWhenCloseOrExit()}function getDirectionsExit(){Enabler.requestCollapse(),Enabler.exit("Get Directions Exit","http://www.verizonwireless.com/vzw/storelocator/store-list-result.jsp?allow=1&result=verizon&q="+searchInput.value),TweenMax.set("#expanded-banner",{opacity:0,display:"none"}),motionLibrary.resetWhenCloseOrExit()}function updatePosition(){navigator.geolocation?navigator.geolocation.getCurrentPosition(printlocation):alert("Geolocation is not supported by this browser")}function printlocation(a){var b=new google.maps.LatLng(a.coords.latitude,a.coords.longitude);map.panTo(b)}function loadMap(){motionLibrary.animations("fadeIn","#map",.5),0==mapAdded&&0==mapLoaded?(setMap(),mapAdded=!0,Enabler.counter("Map Load")):(zoomToAddress(),Enabler.counter("Search for address"))}function convertAddress(a){geocoder.geocode({address:a},function(a,b){if(b==google.maps.GeocoderStatus.OK){var c=a[0].geometry.location,d=c[Object.keys(c)[0]],e=c[Object.keys(c)[1]];if(LatLngList.push(new google.maps.LatLng(d,e)),3===convertInd){bounds=new google.maps.LatLngBounds;for(var f=0,g=LatLngList.length;g>f;f++)bounds.extend(LatLngList[f]);map.setCenter(bounds.getCenter()),map.fitBounds(bounds),LatLngList=[],convertInd=0,bounds=null}else convertInd++}})}function searchCallback(a){for(var b=0;b<a.rows.length;b++)convertAddress(a.rows[b][0])}function setMap(){var a=new google.maps.LatLng(40.7127837,-74.00594130000002),b=8;map=new google.maps.Map(document.getElementById("map-canvas"),{center:a,zoom:b,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_CENTER},mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP}),address=searchInput.value,google.maps.event.addListener(map,"tilesloaded",function(){isMapCreated||(geocoder=new google.maps.Geocoder,layer=new google.maps.FusionTablesLayer({query:{select:locationColumn,from:tableId},map:map}),zoomToAddress()),mapAdded=!0,mapLoaded=!0,isMapCreated=!0})}function searchMap(a){if(address=searchInput.value,a||(a=window.event),a.target.hasClass("search"))return loadMap(),!1;var b=a.keyCode||a.which;return"13"==b&&""!=searchInput.value?(loadMap(),!1):("13"==b&&""==searchInput.value&&alert("Please enter a valid direction"),void 0)}doubleClickEvents.initializer("in-app");var orientationNumber,currentdate=new Date,afterDay=!1;5==currentdate.getMonth()+1&&currentdate.getDate()>=3&&(afterDay=!0);var elementsToRegister=[{eventType:"click",element:"#collapse-banner",functionToCall:"expanded"},{eventType:"click",element:"#getLocation",functionToCall:"updatePosition"},{eventType:"click",element:"#FF #footer-cta",functionToCall:"loadMap"},{eventType:"click",element:"#ff-cta",functionToCall:"shopGift"},{eventType:"click",element:"#get-direction-button",functionToCall:"getDirectionsExit"},{eventType:"keypress",element:"#autocomplete",functionToCall:"searchMap"},{eventType:"click",element:"#route",functionToCall:"searchMap"},{eventType:"click",element:"#generalClose",functionToCall:"GeneralClose"}],mapAdded=!1,mapLoaded=!1,isMapCreated=!1,locationColumn="Address",tableId="16vNUgk-hiwwIzq1wuSCyYFqnKHdIqfRh3umdbdnR",circles,zipCode,address,layer,geocoder,mapContainer=document.getElementById("map"),LatLngList=[],convertInd=0,bounds,searchInput=document.getElementById("autocomplete"),zoomToAddress=function(){geocoder.geocode({address:address},function(a,b){if(b==google.maps.GeocoderStatus.OK){var c=a[0].geometry.location,d=c[Object.keys(c)[0]],e=c[Object.keys(c)[1]],f="ST_DISTANCE("+locationColumn+", LATLNG("+d+", "+e+"))",g=new XMLHttpRequest,h="https://www.googleapis.com/fusiontables/v1/query?sql=SELECT%20Address%20FROM%2016vNUgk-hiwwIzq1wuSCyYFqnKHdIqfRh3umdbdnR%20ORDER%20BY%20"+f+"%20LIMIT%204"+"&key=AIzaSyCsUfW1UjOAmWTIQA2OkX1WQollfHDii-A";g.onreadystatechange=function(){if(4==g.readyState&&200==g.status){var a=JSON.parse(g.responseText);searchCallback(a)}},g.open("GET",h,!0),g.send()}})};Element.prototype.hasClass=function(a){return this.className&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(this.className)};